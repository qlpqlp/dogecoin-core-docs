<!DOCTYPE HTML>
<html lang="en" class="light sidebar-visible" dir="ltr">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Build-unix - Dogecoin Core [DOGE, Ð]</title>


        <!-- Custom HTML head -->

        <meta name="description" content="Dogecoin CORE Documentation">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff">

        <link rel="icon" href="../../favicon.svg">
        <link rel="shortcut icon" href="../../favicon.png">
        <link rel="stylesheet" href="../../css/variables.css">
        <link rel="stylesheet" href="../../css/general.css">
        <link rel="stylesheet" href="../../css/chrome.css">
        <link rel="stylesheet" href="../../css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="../../FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="../../fonts/fonts.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="../../highlight.css">
        <link rel="stylesheet" href="../../tomorrow-night.css">
        <link rel="stylesheet" href="../../ayu-highlight.css">

        <!-- Custom theme stylesheets -->

        <!-- MathJax -->
        <script async src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

        <!-- Provide site root to javascript -->
        <script>
            var path_to_root = "../../";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>
        <!-- Start loading toc.js asap -->
        <script src="../../toc.js"></script>
    </head>
    <body>
    <div id="body-container">
        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script>
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script>
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            const html = document.documentElement;
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add("js");
        </script>

        <input type="checkbox" id="sidebar-toggle-anchor" class="hidden">

        <!-- Hide / unhide sidebar before it is displayed -->
        <script>
            var sidebar = null;
            var sidebar_toggle = document.getElementById("sidebar-toggle-anchor");
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            } else {
                sidebar = 'hidden';
            }
            sidebar_toggle.checked = sidebar === 'visible';
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <!-- populated by js -->
            <mdbook-sidebar-scrollbox class="sidebar-scrollbox"></mdbook-sidebar-scrollbox>
            <noscript>
                <iframe class="sidebar-iframe-outer" src="../../toc.html"></iframe>
            </noscript>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle">
                <div class="sidebar-resize-indicator"></div>
            </div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky">
                    <div class="left-buttons">
                        <label id="sidebar-toggle" class="icon-button" for="sidebar-toggle-anchor" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </label>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">Dogecoin Core [DOGE, Ð]</h1>

                    <div class="right-buttons">
                        <a href="../../print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>
                        <a href="https://github.com/qlpqlp/dogecoin-core-docs/tree/main/" title="Git repository" aria-label="Git repository">
                            <i id="git-repository-button" class="fa fa-github"></i>
                        </a>
                        <a href="https://github.com/qlpqlp/dogecoin-core-docs/edit/main/src/en/doc/build-unix.md" title="Suggest an edit" aria-label="Suggest an edit">
                            <i id="git-edit-button" class="fa fa-edit"></i>
                        </a>

                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script>
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="unix-build-of-dogecoin-core"><a class="header" href="#unix-build-of-dogecoin-core">Unix Build of Dogecoin Core</a></h1>
<p>This installation guide serves as a basis for all UNIX and UNIX-like operating
systems. All examples in this guide are illustrated using an Ubuntu/Debian OS,
and guides for different OSs can be found in separate documentation, as listed
below.</p>
<ol>
<li><a href="#install-dependencies">Install dependencies</a>
<ul>
<li><a href="#using-packaged-dependencies">Using packaged dependencies</a></li>
<li><a href="#ubuntu--debian-example">Ubuntu &amp; Debian example</a></li>
</ul>
</li>
<li><a href="#build-steps">Build steps</a></li>
<li><a href="#build-configuration">Build configuration</a>
<ul>
<li><a href="#enable-qt-gui">Enable Qt GUI</a></li>
<li><a href="#wallet">Wallet</a></li>
<li><a href="#disable-wallet-mode">Disable-wallet mode</a></li>
<li><a href="#miniupnpc">Miniupnpc</a></li>
<li><a href="#security">Security</a></li>
<li><a href="#memory-requirements">Memory requirements</a></li>
</ul>
</li>
<li><a href="#arm-cross-compilation">ARM Cross-compilation</a></li>
<li>OS-specific documentation:
<ul>
<li><a href="build-archlinux.html">Archlinux</a></li>
<li><a href="build-fedora.html">Fedora</a></li>
<li><a href="build-freebsd.html">FreeBSD</a></li>
<li><a href="build-nixos.html">NixOs</a></li>
<li><a href="build-openbsd.html">OpenBSD</a></li>
</ul>
</li>
</ol>
<h2 id="install-dependencies"><a class="header" href="#install-dependencies">Install dependencies</a></h2>
<p>You must install required dependencies to build a basic Dogecoin daemon, optional dependencies may vary according to your requirements.</p>
<p>Wallet is optional to run a node, see <a href="#wallet">Wallet</a> section to enable them.</p>
<p><strong>Required dependencies :</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Library</th><th>Purpose</th><th>Description</th></tr></thead><tbody>
<tr><td>libssl</td><td>Crypto</td><td>Random Number Generation, Elliptic Curve Cryptography</td></tr>
<tr><td>libboost</td><td>Utility</td><td>Library for threading, data structures, etc</td></tr>
<tr><td>libevent</td><td>Networking</td><td>OS independent asynchronous networking</td></tr>
</tbody></table>
</div>
<p><strong>Optional dependencies:</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Library</th><th>Purpose</th><th>Description</th></tr></thead><tbody>
<tr><td>miniupnpc</td><td>UPnP Support</td><td>Firewall-jumping support</td></tr>
<tr><td>libdb5.3</td><td>Berkeley DB</td><td>Wallet storage (only needed when wallet enabled)</td></tr>
<tr><td>qt</td><td>GUI</td><td>GUI toolkit (only needed when GUI enabled)</td></tr>
<tr><td>protobuf</td><td>Payments in GUI</td><td>Data interchange format used for payment protocol (only needed when GUI enabled)</td></tr>
<tr><td>libqrencode</td><td>QR codes in GUI</td><td>Optional for generating QR codes (only needed when GUI enabled)</td></tr>
<tr><td>univalue</td><td>Utility</td><td>JSON parsing and encoding (bundled version will be used unless --with-system-univalue passed to configure)</td></tr>
<tr><td>libzmq3</td><td>ZMQ notification</td><td>Optional, allows generating ZMQ notifications (requires ZMQ version &gt;= 4.x)</td></tr>
</tbody></table>
</div>
<p>For the versions used in the release, see <a href="release-process.html">release-process.md</a> under <em>Fetch and build inputs</em>.</p>
<h3 id="using-packaged-dependencies"><a class="header" href="#using-packaged-dependencies">Using packaged dependencies</a></h3>
<p>Dogecoin Core's released binaries are built using the "depends system", which
contains exact, tested versions of all dependencies. To create binaries that are
using only fully tested dependencies, see the documentation in the
<a href="../depends/README.html">depends directory</a> and the
<a href="release-process.html">Release process documentation</a>.</p>
<h3 id="ubuntu--debian-example"><a class="header" href="#ubuntu--debian-example">Ubuntu &amp; Debian example</a></h3>
<p>Before installing the dependencies, ensure your system is updated and has the latest security patches:</p>
<pre><code class="language-bash">sudo apt-get update
sudo apt-get upgrade

**Required dependencies** :
```bash
sudo apt-get install build-essential libtool autotools-dev automake pkg-config libssl-dev libevent-dev bsdmainutils
sudo apt-get install libboost-system-dev libboost-filesystem-dev libboost-chrono-dev libboost-program-options-dev libboost-test-dev libboost-thread-dev
</code></pre>
<p><strong>Optional dependencies</strong> :</p>
<pre><code class="language-bash"># Qt (required for dogecoin-qt GUI)
sudo apt-get install libqt5gui5 libqt5core5a libqt5dbus5 qttools5-dev qttools5-dev-tools libprotobuf-dev protobuf-compiler libqrencode-dev

# BerkeleyDB (version 5.3)
sudo apt install libdb5.3++-dev libdb5.3++ libdb5.3-dev

# ZMQ (provides ZMQ API 4.x)
sudo apt-get install libzmq3-dev

# Miniupnpc
sudo apt-get install libminiupnpc-dev
</code></pre>
<h2 id="build-steps"><a class="header" href="#build-steps">Build steps</a></h2>
<p>According to installed dependencies, the following steps will compile <code>dogecoind</code>, <code>dogecoin-cli</code> and <code>dogecoin-qt</code>.</p>
<pre><code class="language-bash">./autogen.sh
./configure
make
make install # optional
</code></pre>
<p>See <a href="#build-configuration">Build configuration</a> for extra settings.</p>
<h2 id="build-configuration"><a class="header" href="#build-configuration">Build configuration</a></h2>
<p>Configurations are done during the <code>./configure</code> step. Use <code>--help</code> to see all available options.</p>
<h4 id="enable-qt-gui"><a class="header" href="#enable-qt-gui">Enable Qt GUI</a></h4>
<p>Create <code>dogecoin-qt</code>, the core wallet GUI.</p>
<pre><code class="language-bash">./configure --with-gui
</code></pre>
<h4 id="wallet"><a class="header" href="#wallet">Wallet</a></h4>
<p>BerkeleyDB is required for wallet functionality and use of the <code>wallet.dat</code> file.</p>
<p>By default, <strong>Dogecoin Core expects BerkeleyDB 5.3</strong>.
You can use a different version by specifying <code>--with-incompatible-bdb</code> flag.</p>
<p>If you have to build it yourself, you can
use <a href="/contrib/install_db5.sh">the installation script included in contrib/</a>
like so:</p>
<pre><code class="language-shell">./contrib/install_db5.sh `pwd`
</code></pre>
<p>from the root of the repository.</p>
<p>Otherwise, you can build Dogecoin Core from self-compiled <a href="/depends/README.html">depends</a>.</p>
<p><strong>Note</strong>: You only need Berkeley DB if the wallet is enabled (see <a href="#disable-wallet-mode"><em>Disable-wallet mode</em></a>).</p>
<h4 id="disable-wallet-mode"><a class="header" href="#disable-wallet-mode">Disable-wallet mode</a></h4>
<p>When the intention is to run only a P2P node without a wallet, Dogecoin may be compiled in
disable-wallet mode with:</p>
<pre><code class="language-bash">./configure --disable-wallet
</code></pre>
<p>Mining is also possible in disable-wallet mode, but only using the <code>getblocktemplate</code> RPC
call, not <code>getwork</code>.</p>
<h4 id="miniupnpc"><a class="header" href="#miniupnpc">Miniupnpc</a></h4>
<p><a href="http://miniupnp.free.fr/">miniupnpc</a> may be used for UPnP port mapping.  It can be downloaded from <a href="http://miniupnp.tuxfamily.org/files/">here</a>.  UPnP support is compiled in and
turned off by default.  See the configure options for upnp behavior desired:</p>
<pre><code class="language-bash">--without-miniupnpc      #No UPnP support miniupnp not required
--disable-upnp-default   #(the default) UPnP support turned off by default at runtime
--enable-upnp-default    #UPnP support turned on by default at runtime
</code></pre>
<h4 id="security"><a class="header" href="#security">Security</a></h4>
<p>To help make your Dogecoin installation more secure by making certain attacks impossible to
exploit even if a vulnerability is found, binaries are hardened by default.
This can be disabled with:</p>
<p>Hardening Flags:</p>
<pre><code class="language-bash">./configure --enable-hardening
./configure --disable-hardening
</code></pre>
<p>Hardening enables the following features:</p>
<ul>
<li>
<p>Position Independent Executable
Build position independent code to take advantage of Address Space Layout Randomization
offered by some kernels. Attackers who can cause execution of code at an arbitrary memory
location are thwarted if they don't know where anything useful is located.
The stack and heap are randomly located by default but this allows the code section to be
randomly located as well.</p>
<p>On an AMD64 processor where a library was not compiled with -fPIC, this will cause an error
such as: <code>relocation R_X86_64_32 against '......' can not be used when making a shared object;</code></p>
<p>To test that you have built PIE executable, install scanelf, part of paxutils, and use:</p>
<p><code>scanelf -e ./dogecoin</code></p>
<p>The output should contain:</p>
<p><code>TYPE ET_DYN</code></p>
</li>
<li>
<p>Non-executable Stack
If the stack is executable, trivial stack-based buffer overflow exploits are possible if
vulnerable buffers are found. By default, Dogecoin should be built with a non-executable stack,
but if one of the libraries it uses asks for an executable stack or someone makes a mistake
and uses a compiler extension which requires an executable stack, it will silently build an
executable without the non-executable stack protection.</p>
<p>To verify that the stack is non-executable after compiling, use:
<code>scanelf -e ./dogecoin</code></p>
<p>the output should contain:
<code>STK/REL/PTL RW- R-- RW-</code></p>
<p>The <code>STK RW-</code> means that the stack is readable and writeable, but not executable.</p>
</li>
</ul>
<h4 id="memory-requirements"><a class="header" href="#memory-requirements">Memory Requirements</a></h4>
<p>C++ compilers are memory-hungry. It is recommended to have at
least 1.5 GB of memory available when compiling Dogecoin Core.
On systems with less, gcc can be tuned to conserve memory with additional CXXFLAGS:</p>
<pre><code class="language-bash">./configure CXXFLAGS="--param ggc-min-expand=1 --param ggc-min-heapsize=32768"
</code></pre>
<h2 id="arm-cross-compilation"><a class="header" href="#arm-cross-compilation">ARM Cross-compilation</a></h2>
<p>These steps can be performed on, for example, an Ubuntu VM. The depends system
will also work on other Linux distributions, however the commands for
installing the toolchain will be different.</p>
<p>Make sure you install the build requirements mentioned above.
Then, install the toolchain and curl:</p>
<pre><code class="language-bash">sudo apt-get install g++-arm-linux-gnueabihf curl
</code></pre>
<p>To build executables for ARM:</p>
<pre><code class="language-bash">cd depends
make HOST=arm-linux-gnueabihf NO_QT=1
cd ..
./configure --prefix=$PWD/depends/arm-linux-gnueabihf --enable-glibc-back-compat --enable-reduce-exports LDFLAGS=-static-libstdc++
make
</code></pre>
<p>For further documentation on the depends system see <a href="../depends/README.html">README.md</a> in the depends directory.</p>
<div class="dropdown" style="position: fixed; top: 50px; right: 20px; z-index: 1000;"><div class="dropdown-content" style="background-color: #fff;box-shadow: 0px 8px 16px 0px rgba(0,0,0,0.2); z-index: 1000;border-radius:5px"><a style='color: black; padding: 5px 5px; text-decoration: none; display: block;' href='/en/index.html'>EN</a><a style='color: black; padding: 5px 5px; text-decoration: none; display: block;' href='/br/index.html'>BR</a><a style='color: black; padding: 5px 5px; text-decoration: none; display: block;' href='/cn/index.html'>CN</a><a style='color: black; padding: 5px 5px; text-decoration: none; display: block;' href='/fr/index.html'>FR</a><a style='color: black; padding: 5px 5px; text-decoration: none; display: block;' href='/ir/index.html'>IR</a><a style='color: black; padding: 5px 5px; text-decoration: none; display: block;' href='/pt/index.html'>PT</a><a style='color: black; padding: 5px 5px; text-decoration: none; display: block;' href='/vn/index.html'>VN</a></div></div>
                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                            <a rel="prev" href="../../en/doc/build-osx-removed.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>

                            <a rel="next prefetch" href="../../en/doc/build-windows.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                    <a rel="prev" href="../../en/doc/build-osx-removed.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>

                    <a rel="next prefetch" href="../../en/doc/build-windows.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
            </nav>

        </div>



        <script>
            window.playground_line_numbers = true;
        </script>

        <script>
            window.playground_copyable = true;
        </script>

        <script src="../../ace.js"></script>
        <script src="../../editor.js"></script>
        <script src="../../mode-rust.js"></script>
        <script src="../../theme-dawn.js"></script>
        <script src="../../theme-tomorrow_night.js"></script>

        <script src="../../elasticlunr.min.js"></script>
        <script src="../../mark.min.js"></script>
        <script src="../../searcher.js"></script>

        <script src="../../clipboard.min.js"></script>
        <script src="../../highlight.js"></script>
        <script src="../../book.js"></script>

        <!-- Custom JS scripts -->


    </div>
    </body>
</html>
